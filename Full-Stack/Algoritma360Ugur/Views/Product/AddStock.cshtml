@model List<Product>

@{
    ViewData["Title"] = "Stok Ekle";
    Layout = "_Layout";
}

<div class="max-w-3xl mx-auto">
    <div class="bg-white rounded-xl shadow-md overflow-hidden">
        <div class="px-6 py-4 bg-gradient-to-r from-green-600 to-green-700 text-white">
            <h2 class="text-2xl font-bold flex items-center">
                <i class="fas fa-plus-square mr-3"></i>Stok Ekle
            </h2>
            <p class="text-green-100 mt-1">Mevcut ürünlere stok eklemek için formu doldurun</p>
        </div>

        <div class="p-6">
            @if (ViewBag.Error != null)
            {
                <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6 rounded" role="alert">
                    <div class="flex items-center">
                        <i class="fas fa-exclamation-circle mr-3"></i>
                        <p>@ViewBag.Error</p>
                    </div>
                </div>
            }

            <form method="post" class="space-y-6">
                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-box mr-2 text-gray-500"></i>Ürün Seçin
                    </label>
                    <select name="productId" required
                            class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition duration-200">
                        <option value="" disabled selected>Bir ürün seçin...</option>
                        @foreach (var product in Model)
                        {
                            <option value="@product.Id">
                                @product.Name (Mevcut Stok: @product.Stock.Quantity)
                            </option>
                        }
                    </select>
                    <p class="mt-1 text-xs text-gray-500">Stok eklemek istediğiniz ürünü seçin</p>
                </div>

                <div>
                    <label class="block text-sm font-medium text-gray-700 mb-2">
                        <i class="fas fa-cubes mr-2 text-gray-500"></i>Eklenecek Miktar
                    </label>
                    <input name="quantity" type="number" min="1" required
                           class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent transition duration-200"
                           placeholder="Eklenecek miktar..." />
                    <p class="mt-1 text-xs text-gray-500">En az 1 adet ekleyebilirsiniz</p>
                </div>

                <div class="bg-green-50 border border-green-200 p-4 rounded-lg">
                    <div class="flex items-start">
                        <i class="fas fa-info-circle text-green-600 mt-1 mr-3"></i>
                        <div>
                            <p class="text-sm font-medium text-green-800">Bilgi</p>
                            <p class="text-xs text-green-700 mt-1">Girdiğiniz miktar, seçili ürünün mevcut stoğuna eklenecektir.</p>
                        </div>
                    </div>
                </div>

                <div class="flex items-center justify-between pt-4 border-t">
                    <a asp-controller="Home" asp-action="Index"
                       class="text-gray-600 hover:text-gray-800 font-medium transition duration-200">
                        <i class="fas fa-arrow-left mr-2"></i>Geri Dön
                    </a>
                    <button type="submit"
                            class="bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white px-8 py-3 rounded-lg font-medium transition duration-200 shadow-lg hover:shadow-xl">
                        <i class="fas fa-check mr-2"></i>Stok Ekle
                    </button>
                </div>
            </form>
        </div>
    </div>

    @if (Model.Count == 0)
    {
        <div class="mt-6 bg-yellow-50 border border-yellow-200 p-6 rounded-xl text-center">
            <i class="fas fa-exclamation-triangle text-yellow-600 text-4xl mb-3"></i>
            <p class="text-yellow-800 font-medium">Henüz ürün bulunmuyor!</p>
            <p class="text-yellow-700 text-sm mt-2">Stok eklemek için önce ürün oluşturmalısınız.</p>
            <a asp-controller="Product" asp-action="Create" 
               class="mt-4 inline-block bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition duration-200">
                <i class="fas fa-plus mr-2"></i>Yeni Ürün Ekle
            </a>
        </div>
    }
</div>